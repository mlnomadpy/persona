function captureHTML(){return"complete"===document.readyState?document.documentElement.outerHTML:null}chrome.runtime.onMessage.addListener((function(e,t,r){if("captureHTML"===e.action)try{let e=captureHTML();e?r({html:e}):(console.error("Document is not fully loaded."),r({error:"Document is not fully loaded."}))}catch(e){console.error("Error capturing HTML:",e),r({error:"Error capturing HTML."})}})),document.addEventListener("readystatechange",(function(){"complete"===document.readyState&&chrome.runtime.sendMessage({action:"retryCapture"})}));